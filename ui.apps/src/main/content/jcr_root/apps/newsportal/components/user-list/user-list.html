<sly data-sly-use.userInfoListModel="com.gofortrainings.newsportal.core.models.UserInfoListModel" />
<h2 class="text-center">${userInfoListModel.title}</h2>
<table class="table table-dark table-bordered">
    <caption>
        userDetails
    </caption>
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            <th scope="col">Password</th>
            <th scope="col">Roles</th>
            <th scope="col">Status</th>
            <th scope="col">CountryCode</th>
            <th scope="col">MobileNumber</th>
            <th scope="col">Gender</th>
            <th scope="col">DOB</th>
            <th scope="col">Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr data-sly-repeat.userInfo="${userInfoListModel.userInfoList}">
            <td>${userInfoList.count}</td>
            <td>${userInfo.id}</td>
            <td>${userInfo.firstName}</td>
            <td>${userInfo.lastName}</td>
            <td>${userInfo.email}</td>
            <td>${userInfo.password}</td>
            <td>${userInfo.roles}</td>
            <td>${userInfo.status}</td>
            <td>${userInfo.countryCode}</td>
            <td>${userInfo.mobileNumber}</td>
            <td>${userInfo.gender}</td>
            <td>${userInfo.dob}</td>
            <td>
                <button class="btn btn-primary" data-toggle="modal" data-target="#modal" data-user-id="${userInfo.id}" data-user-firstName="${userInfo.firstName}" data-user-lastName="${userInfo.lastName}" data-user-email="${userInfo.email}" data-user-pwd="${userInfo.password}" data-user-roles="${userInfo.roles}" data-user-status="${userInfo.status}" data-user-countryCode="${userInfo.countryCode}" data-user-mobileNumber="${userInfo.mobileNumber}" data-user-gender="${userInfo.gender}" data-user-dob="${userInfo.dob}">
                    Edit
                </button>
            </td>
        </tr>
    </tbody>
</table>

<!-- Bootstrap Modal -->
<div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title w-100" id="gtModelTitle">User Details Form</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bs-dismiss="modal">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="needs-validation" id="userRegistrationForm" novalidate="" method="post">
                    <div class="row">
                        <div class="form-group col-md-6">
                            <input type="text" name="name" pattern="[a-zA-Z ]+" minlength="4" maxlength="20"
                                class="form-control" id="firstName" placeholder="First Name *" required="">
                            <input type="hidden" name="userId" id="userId">
                            <div class="invalid-feedback"> Name is mandatory field (min-3,max-20
                                Alphabet). </div>
                        </div>
                        <div class="form-group col-md-6">
                            <input type="text" name="name" pattern="[a-zA-Z ]+" minlength="4" maxlength="20"
                                class="form-control" id="lastName" placeholder=" Last Name *" required="">
                            <div class="invalid-feedback"> Name is mandatory field (min-3,max-20
                                Alphabet). </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <input type="email" name="email"
                                pattern="([A-Za-z0-9][._]?)+[A-Za-z0-9]@[A-Za-z0-9]+(.?[A-Za-z0-9]){2}.(com?|net|org)+(.[A-Za-z0-9]{2,4})?"
                                class="form-control" maxlength="30" id="email" placeholder="Email Id *" required=""
                                autocomplete="email">
                            <div class="invalid-feedback"> Enter valid email Id. </div>
                        </div>

                        <div class="form-group col-md-6">
                            <input type="password" name="password" pattern=".{8,}"
                                title="Password must be at least 8 characters" class="form-control" id="password"
                                placeholder="Password *" required="" autocomplete="new-password">
                            <div class="invalid-feedback"> Password is mandatory and must be at least 8
                                characters long. </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <select name="role" class="form-control" id="roles" required="">
                                <option value="" disabled selected>Select Role *</option>
                                <option value="admin">Admin</option>
                                <option value="student">Student</option>
                                <option value="trainer">Trainer</option>
                                <option value="sales">Sales</option>
                            </select>
                            <div class="invalid-feedback"> Please select a role. </div>
                        </div>
                        <div class="form-group col-md-6">

                            <div class="form-check">
                                <input type="checkbox" name="status" class="form-check-input" id="status">
                                <label class="form-check-label" for="status">Status</label>
                            </div>
                            <div class="invalid-feedback"> Please select a status. </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <select name="countryCode" class="form-control" id="countryCode" min="1" required="">
                                <option value="">Country Code *</option>
                                <option data-countrycode="IN" value="91">India (+91)</option>
                                <option data-countrycode="US" value="1">USA (+1)</option>
                                <option data-countrycode="GB" value="44">UK (+44)</option>
                                <option data-countrycode="CA" value="1">Canada (+1)</option>
                                <option data-countrycode="AU" value="61">Australia (+61)</option>
                                <option data-countrycode="SG" value="65">Singapore (+65)</option>

                            </select>
                            <div class="invalid-feedback"> Country code is mandatory field. </div>
                        </div>
                        <div class="form-group col-md-8">
                            <input name="phone" type="text" class="form-control" pattern="[0-9]+" minlength="10"
                                maxlength="10" id="mobileNumber" placeholder="Mobile Number *" required="">
                            <div class="invalid-feedback"> Mandatory field (enter only numbers without
                                any special characters). </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">

                            <select name="gender" class="form-control" id="gender" required="">
                                <option value="" disabled selected>Select Gender *</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="others">Others</option>
                            </select>
                            <div class="invalid-feedback"> Please select a gender. </div>
                        </div>
                        <div class="form-group col-md-6">

                            <input type="date" name="dob" class="form-control" id="dob" required="">
                            <div class="invalid-feedback"> Please enter your date of birth. </div>
                        </div>
                    </div>
                    <div class="modal-footer ">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary" id="saveChangesBtn">Save Changes</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>